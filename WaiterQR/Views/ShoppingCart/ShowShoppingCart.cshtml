@using WaiterQR.Models;
@{
    ViewBag.Title = "Shopping cart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>ShowBasket</h2>

<table class="table">
    <tr>
        <th>Name </th>
        <th>Price </th>
        <th>Quantity </th>
        <th>Sub Total </th>
    </tr>

    @foreach (var cart in (List<ShoppingCartViewModel>)Session["ShoppingCartViewModel"])
    {
        <tr>
            <td>@cart.product.ProductName</td>
            <td>@cart.product.ProductPrice</td>
            <td>@cart.quantity</td>
            <td>@(decimal.Parse(cart.product.ProductPrice)*cart.quantity)</td>
            <td>
                <button class="btn btn-primary">
                    @Html.ActionLink("Delete", "Delete", "ShoppingCart", new { id = cart.product.ProductID }, new { onclick = "return cornfirm('Are you sure you want to delete this?');" })
                </button>
            </td>
        </tr>
    }
</table>
<div>
    <button class="btn btn-secondary">
        @Html.ActionLink("Order Now", "OrderFinished", "ShoppingCart")
    </button>
</div>
<div>
    <h2>@ViewBag.message</h2>
</div>

<br />
<div>
    @Html.ActionLink("Continue Shopping?", "ShowMenu", "Menu", new { tableid = Session["tableid"] }, null)
</div>
